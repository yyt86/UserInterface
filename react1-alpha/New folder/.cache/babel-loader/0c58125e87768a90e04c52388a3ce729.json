{"ast":null,"code":"var _jsxFileName = \"F:\\\\course\\\\639-UI\\\\react1-alpha-yyt86-master\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\nimport { Card } from 'react-bootstrap';\nimport UW from './UW.jpg';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.add = (course, sec_index, subsec_index) => {\n      console.log(\"update\");\n      console.log(sec_index, subsec_index);\n      let course_selected = {\n        number: course.number,\n        name: course.name,\n        credits: course.credits,\n        subject: course.subject,\n        description: course.description,\n        requisites: course.requisites,\n        keywords: course.keywords,\n        sections: {}\n      }; // console.log(\"cart\")\n      // console.log(this.state.cart)\n\n      let newcart = Object.assign({}, this.state.cart);\n\n      if (sec_index == null) {\n        course_selected = course;\n        newcart[course_selected.number] = course_selected;\n      } else {\n        if (subsec_index === null) {\n          if (!this.state.cart[course_selected.number]) {\n            course_selected.sections = {\n              [sec_index]: course.sections[sec_index]\n            };\n            newcart[course_selected.number] = course_selected;\n          } else {\n            newcart[course_selected.number].sections[sec_index] = course.sections[sec_index];\n          }\n        } else {\n          let newsec = {\n            number: course.sections[sec_index].number,\n            instructor: course.sections[sec_index].instructor,\n            location: course.sections[sec_index].location,\n            time: course.sections[sec_index].time,\n            subsections: {\n              [subsec_index]: course.sections[sec_index].subsections[subsec_index]\n            }\n          };\n\n          if (!this.state.cart[course_selected.number]) {\n            course_selected.sections = {\n              [sec_index]: newsec\n            };\n            newcart[course_selected.number] = course_selected;\n          } else {\n            if (Object.keys(this.state.cart[course_selected.number].sections).includes(sec_index)) {\n              newcart[course_selected.number].sections[sec_index].subsections[subsec_index] = course.sections[sec_index].subsections[subsec_index];\n            } else {\n              newcart[course_selected.number].sections[sec_index] = newsec;\n            }\n          }\n        }\n      } // console.log(\"newcart\")\n      // console.log(newcart)\n\n\n      this.setState({\n        cart: newcart\n      });\n    };\n\n    this.remove = (course, sec_index, subsec_index) => {\n      console.log(\"remove\");\n      console.log(sec_index, subsec_index);\n      let newcart = Object.assign({}, this.state.cart);\n\n      if (sec_index == null) {\n        delete newcart[course.number];\n      } else {\n        if (subsec_index === null) {\n          delete newcart[course.number].sections[sec_index];\n\n          if (Object.entries(newcart[course.number].sections).length === 0) {\n            delete newcart[course.number];\n          }\n        } else {\n          delete newcart[course.number].sections[sec_index].subsections[subsec_index];\n\n          if (Object.entries(newcart[course.number].sections[sec_index].subsections).length === 0) {\n            delete newcart[course.number].sections[sec_index];\n          }\n\n          if (Object.entries(newcart[course.number].sections).length === 0) {\n            delete newcart[course.number];\n          }\n        }\n      }\n\n      console.log(\"newcart\");\n      console.log(newcart);\n      this.setState({\n        cart: newcart\n      });\n    };\n\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      subjects: [],\n      cart: {},\n      showHome: true,\n      showSearch: false,\n      showCart: false\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://mysqlcs639.cs.wisc.edu:53706/api/react/classes').then(res => res.json()).then(data => this.setState({\n      allCourses: data,\n      filteredCourses: data,\n      subjects: this.getSubjects(data)\n    }));\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for (const course of Object.values(data)) {\n      if (subjects.indexOf(course.subject) === -1) subjects.push(course.subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({\n      filteredCourses: courses\n    });\n  }\n\n  handleChangeNav(a, b, c) {\n    this.setState({\n      showHome: a,\n      showSearch: b,\n      showCart: c\n    });\n  }\n\n  showContent() {\n    if (this.state.showHome) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 19\n        }\n      }, \"Course Search & Enroll\"), /*#__PURE__*/React.createElement(\"img\", {\n        src: UW,\n        alt: \"UW\",\n        style: {\n          width: \"40%\",\n          height: \"40%\",\n          float: \"middle\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 19\n        }\n      }))));\n    } else {\n      if (this.state.showSearch) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Sidebar, {\n          setCourses: courses => this.setCourses(courses),\n          courses: this.state.allCourses,\n          subjects: this.state.subjects,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 7\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            marginLeft: '20vw'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(CourseArea, {\n          data: this.state.filteredCourses,\n          allData: this.state.allCourses,\n          cartMode: false,\n          onaddtocart: this.add,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 9\n          }\n        })));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            marginLeft: '5vw'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(CourseArea, {\n          data: Object.values(this.state.cart),\n          allData: this.state.allCourses,\n          cartMode: true,\n          onremovecart: this.remove,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }\n        }));\n      }\n    }\n  }\n\n  render() {\n    // console.log(Object.values(this.state.cart))\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n      integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n      crossOrigin: \"anonymous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Navbar, {\n      bg: \"light\",\n      variant: \"light\",\n      style: {\n        backgroundColor: \"lightblue\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n      href: \"#home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }, \"Navbar\"), /*#__PURE__*/React.createElement(Nav, {\n      className: \"mr-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      href: \"#home\",\n      onClick: () => {\n        this.handleChangeNav(true, false, false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 15\n      }\n    }, \"Home\"), /*#__PURE__*/React.createElement(Nav.Link, {\n      href: \"#features\",\n      onClick: () => {\n        this.handleChangeNav(false, true, false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }, \"Search\"), /*#__PURE__*/React.createElement(Nav.Link, {\n      href: \"#pricing\",\n      onClick: () => {\n        this.handleChangeNav(false, false, true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    }, \"Cart\"))), this.showContent());\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["F:/course/639-UI/react1-alpha-yyt86-master/src/App.js"],"names":["React","Sidebar","CourseArea","Card","UW","Navbar","Nav","App","Component","constructor","props","add","course","sec_index","subsec_index","console","log","course_selected","number","name","credits","subject","description","requisites","keywords","sections","newcart","Object","assign","state","cart","newsec","instructor","location","time","subsections","keys","includes","setState","remove","entries","length","allCourses","filteredCourses","subjects","showHome","showSearch","showCart","componentDidMount","fetch","then","res","json","data","getSubjects","push","values","indexOf","setCourses","courses","handleChangeNav","a","b","c","showContent","width","height","float","marginLeft","render","backgroundColor"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\nimport { Card } from 'react-bootstrap';\nimport UW from './UW.jpg';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\n\nclass App extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      subjects: [],\n      cart:{},\n      showHome: true,\n      showSearch: false,\n      showCart: false\n\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://mysqlcs639.cs.wisc.edu:53706/api/react/classes').then(\n      res => res.json()\n    ).then(data => this.setState({allCourses: data, filteredCourses: data, subjects: this.getSubjects(data)}));\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for(const course of Object.values(data)) {\n      if(subjects.indexOf(course.subject) === -1)\n        subjects.push(course.subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({filteredCourses: courses})\n  }\n\n\n  \n  add = (course, sec_index, subsec_index) => {\n    console.log(\"update\")\n    console.log(sec_index, subsec_index)\n  let course_selected = {\n      number: course.number,\n      name: course.name,\n      credits: course.credits,\n      subject: course.subject,\n      description: course.description,\n      requisites: course.requisites,\n      keywords: course.keywords,\n      sections: {}\n    }\n\n    // console.log(\"cart\")\n    // console.log(this.state.cart)\n    let newcart = Object.assign({}, this.state.cart)\n    \n    if(sec_index == null){\n      course_selected = course; \n      newcart[course_selected.number] = course_selected\n    }\n    else{\n      if(subsec_index === null){\n        if(!this.state.cart[course_selected.number]){\n          course_selected.sections = {[sec_index]:course.sections[sec_index]};\n          newcart[course_selected.number] = course_selected\n        }\n        else{\n          newcart[course_selected.number].sections[sec_index] = course.sections[sec_index]\n     \n        }\n      }\n\n      else{\n        let newsec = {\n          number: course.sections[sec_index].number,\n          instructor: course.sections[sec_index].instructor,\n          location: course.sections[sec_index].location,\n          time: course.sections[sec_index].time,\n          subsections: {[subsec_index]: course.sections[sec_index].subsections[subsec_index]}\n        }\n        if(!this.state.cart[course_selected.number]){\n          \n          course_selected.sections = {[sec_index]: newsec}\n          newcart[course_selected.number] = course_selected\n        }\n        else{\n          \n          if(Object.keys(this.state.cart[course_selected.number].sections).includes(sec_index)){\n            newcart[course_selected.number].sections[sec_index].subsections[subsec_index] = course.sections[sec_index].subsections[subsec_index]\n          }\n          else{\n            newcart[course_selected.number].sections[sec_index] = newsec\n          }\n        }\n      }  \n      \n    }\n    \n    // console.log(\"newcart\")\n    // console.log(newcart)\n    this.setState({cart: newcart})\n    \n  }  \n\nremove = (course, sec_index, subsec_index) => {\n  console.log(\"remove\")\n    console.log(sec_index, subsec_index)\n  let newcart = Object.assign({}, this.state.cart)\n    \n    if(sec_index == null){\n      delete newcart[course.number]\n    }\n    else{\n      if(subsec_index === null){\n        delete newcart[course.number].sections[sec_index]\n      \n        if(Object.entries(newcart[course.number].sections).length === 0){\n          delete newcart[course.number]\n        }\n      }\n      else{\n        delete newcart[course.number].sections[sec_index].subsections[subsec_index]\n\n        if(Object.entries(newcart[course.number].sections[sec_index].subsections).length === 0){\n          delete newcart[course.number].sections[sec_index]\n        }\n\n        if(Object.entries(newcart[course.number].sections).length === 0){\n          delete newcart[course.number]\n        }\n      }\n    }\n    console.log(\"newcart\")\n    console.log(newcart)\n    this.setState({cart: newcart})\n}\n\n handleChangeNav(a, b, c) {this.setState({showHome: a, showSearch: b, showCart: c})}\n\n showContent(){\n   if(this.state.showHome){\n     return(\n       <>\n      <Card className=\"text-center\">\n                <Card.Body>\n                  <Card.Title>Course Search & Enroll</Card.Title>\n                  <img src={UW} alt=\"UW\" style={{width:\"40%\", height:\"40%\", float:\"middle\"}} / >\n            \n                </Card.Body>\n      </Card>\n      </>\n     )\n   }\n   else{\n     if(this.state.showSearch){\n       return(\n        <>\n      <Sidebar setCourses={(courses) => this.setCourses(courses)} courses={this.state.allCourses} subjects={this.state.subjects}/>\n        <div style={{marginLeft: '20vw'}}>\n        <CourseArea data={this.state.filteredCourses} allData={this.state.allCourses} cartMode={false} onaddtocart={this.add}/>\n        </div>\n        </>\n       )\n     }\n     else{\n      return(\n        <div style={{marginLeft: '5vw'}}>\n            <CourseArea data={Object.values(this.state.cart)} allData={this.state.allCourses} cartMode={true}  onremovecart = {this.remove}/>\n        </div>\n      )\n     }\n   }\n }\n\n\n  render() {\n    // console.log(Object.values(this.state.cart))\n    return (\n      <>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\n          crossOrigin=\"anonymous\"\n        />\n      \n        <Navbar bg=\"light\" variant=\"light\" style={{backgroundColor:\"lightblue\"}}>\n            <Navbar.Brand href=\"#home\">Navbar</Navbar.Brand>\n            <Nav className=\"mr-auto\">\n              <Nav.Link href=\"#home\" onClick={()=>{this.handleChangeNav(true, false, false)}}>Home</Nav.Link>\n              <Nav.Link href=\"#features\"  onClick={()=>{this.handleChangeNav(false, true, false)}}>Search</Nav.Link>\n              <Nav.Link href=\"#pricing\" onClick={()=>{this.handleChangeNav(false, false, true)}}>Cart</Nav.Link>\n            </Nav>\n          </Navbar>\n          {this.showContent()}\n        </>  \n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}