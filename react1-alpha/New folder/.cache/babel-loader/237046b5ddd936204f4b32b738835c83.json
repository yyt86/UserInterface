{"ast":null,"code":"var _jsxFileName = \"F:\\\\course\\\\639-UI\\\\react1-alpha-yyt86-master\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      subjects: [],\n      cart: []\n    };\n    this.add = this.add.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('http://mysqlcs639.cs.wisc.edu:53706/api/react/classes').then(res => res.json()).then(data => this.setState({\n      allCourses: data,\n      filteredCourses: data,\n      subjects: this.getSubjects(data)\n    }));\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for (const course of Object.values(data)) {\n      if (subjects.indexOf(course.subject) === -1) subjects.push(course.subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({\n      filteredCourses: courses\n    });\n  } // setaddedcourse(this.state.cart){\n  //   this.setState({addedcourses})\n  // }\n\n\n  add(course, sec_index, subsec_index) {\n    let course_selected = {\n      number: course.number,\n      name: course.name,\n      credicts: course.credicts,\n      subject: course.subject,\n      description: course.description,\n      requisites: course.requisites,\n      keywords: course.keywords\n    };\n    let newcart = Object.assign({}, this.state.cart);\n\n    if (sec_index == null) {\n      course_selected = course;\n      newcart[course_selected.number] = course_selected;\n    } else {\n      if (subsec_index === null) {\n        if (!this.state.cart[course_selected.number]) {\n          course_selected.sectinos = {\n            [sec_index]: course.sections[sec_index]\n          };\n          newcart[course_selected.number] = course_selected;\n        } else {\n          newcart[course_selected.number].sections[sec_index] = course.sections[sec_index];\n        }\n      } else {\n        let newsec = {\n          number: course.sections[sec_index].number,\n          instructor: course.sections[sec_index].instructor,\n          location: course.sections[sec_index].location,\n          time: course.sections[sec_index].time,\n          subsections: {\n            [subsec_index]: course.sections[sec_index].subsections[subsec_index]\n          }\n        };\n\n        if (!this.state.cart[course_selected.number]) {\n          course_selected.sectinos = {\n            [sec_index]: newsec\n          };\n          newcart[course_selected.number] = course_selected;\n        } else {\n          if (Object.keys(this.state.cart[course_selected.number].sections).includes(sec_index)) {\n            newcart[course_selected.number].sections[sec_index].subsections[subsec_index] = course.sections[sec_index].subsections[subsec_index];\n          } else {\n            newcart[course_selected.number].sections[sec_index] = newsec;\n          }\n        }\n      }\n    }\n\n    this.setState({\n      cart: newcart\n    });\n  }\n\n  render() {\n    console.log(Object.keys(this.state.filteredCourses));\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n      integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n      crossOrigin: \"anonymous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Tabs, {\n      defaultActiveKey: \"search\",\n      style: {\n        position: 'fixed',\n        zIndex: 1,\n        width: '100%',\n        backgroundColor: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Tab, {\n      eventKey: \"search\",\n      title: \"Search\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      setCourses: courses => this.setCourses(courses),\n      courses: this.state.allCourses,\n      subjects: this.state.subjects,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '20vw'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CourseArea, {\n      data: this.state.filteredCourses,\n      allData: this.state.allCourses,\n      cartMode: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(Tab, {\n      eventKey: \"cart\",\n      title: \"Cart\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '5vw'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CourseArea, {\n      data: Object.values(this.state.cart),\n      allData: this.state.allCourses,\n      cartMode: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["F:/course/639-UI/react1-alpha-yyt86-master/src/App.js"],"names":["React","Tabs","Tab","Sidebar","CourseArea","App","Component","constructor","props","state","allCourses","filteredCourses","subjects","cart","add","bind","componentDidMount","fetch","then","res","json","data","setState","getSubjects","push","course","Object","values","indexOf","subject","setCourses","courses","sec_index","subsec_index","course_selected","number","name","credicts","description","requisites","keywords","newcart","assign","sectinos","sections","newsec","instructor","location","time","subsections","keys","includes","render","console","log","position","zIndex","width","backgroundColor","paddingTop","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      subjects: [],\n      cart:[]\n    };\n\n    this.add = this.add.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('http://mysqlcs639.cs.wisc.edu:53706/api/react/classes').then(\n      res => res.json()\n    ).then(data => this.setState({allCourses: data, filteredCourses: data, subjects: this.getSubjects(data)}));\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for(const course of Object.values(data)) {\n      if(subjects.indexOf(course.subject) === -1)\n        subjects.push(course.subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({filteredCourses: courses})\n  }\n \n  // setaddedcourse(this.state.cart){\n  //   this.setState({addedcourses})\n  // }\n  \n  add(course, sec_index, subsec_index){\n    \n    let course_selected = {\n        number: course.number,\n        name: course.name,\n        credicts: course.credicts,\n        subject: course.subject,\n        description: course.description,\n        requisites: course.requisites,\n        keywords: course.keywords\n      }\n  \n      let newcart = Object.assign({}, this.state.cart)\n      \n      if(sec_index == null){\n        course_selected = course;\n          \n          newcart[course_selected.number] = course_selected\n      }\n      else{\n        if(subsec_index === null){\n          if(!this.state.cart[course_selected.number]){\n            course_selected.sectinos = {[sec_index]:course.sections[sec_index]};\n            newcart[course_selected.number] = course_selected\n          }\n          else{\n            newcart[course_selected.number].sections[sec_index] = course.sections[sec_index]\n          }\n        }\n  \n        else{\n          let newsec = {\n            number: course.sections[sec_index].number,\n            instructor: course.sections[sec_index].instructor,\n            location: course.sections[sec_index].location,\n            time: course.sections[sec_index].time,\n            subsections: {[subsec_index]: course.sections[sec_index].subsections[subsec_index]}\n          }\n          if(!this.state.cart[course_selected.number]){\n            \n            course_selected.sectinos = {[sec_index]: newsec}\n            newcart[course_selected.number] = course_selected\n          }\n          else{\n            \n            if(Object.keys(this.state.cart[course_selected.number].sections).includes(sec_index)){\n              newcart[course_selected.number].sections[sec_index].subsections[subsec_index] = course.sections[sec_index].subsections[subsec_index]\n            }\n            else{\n              newcart[course_selected.number].sections[sec_index] = newsec\n            }\n          }\n        }  \n        \n      }\n  \n      this.setState({cart:newcart})\n  } \n\n  \n\n  \n  render() {\n\n    console.log(Object.keys(this.state.filteredCourses))\n    return (\n      <>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\n          crossOrigin=\"anonymous\"\n        />\n\n\n\n        <Tabs defaultActiveKey=\"search\" style={{position: 'fixed', zIndex: 1, width: '100%', backgroundColor: 'white'}}>\n          <Tab eventKey=\"search\" title=\"Search\" style={{paddingTop: '5vh'}}>\n            <Sidebar setCourses={(courses) => this.setCourses(courses)} courses={this.state.allCourses} subjects={this.state.subjects}/>\n            <div style={{marginLeft: '20vw'}}>\n              <CourseArea data={this.state.filteredCourses} allData={this.state.allCourses} cartMode={false}/>\n          </div>\n          </Tab>\n            \n          <Tab eventKey=\"cart\" title=\"Cart\" style={{paddingTop: '5vh'}}>\n            <div style={{marginLeft: '5vw'}}>\n            <CourseArea data={Object.values(this.state.cart)} allData={this.state.allCourses} cartMode={true}/>\n            </div>\n          </Tab>\n        </Tabs> \n      </>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}