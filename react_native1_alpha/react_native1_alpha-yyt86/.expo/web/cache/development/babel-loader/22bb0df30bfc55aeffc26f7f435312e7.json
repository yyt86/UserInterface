{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"F:\\\\course\\\\639-UI\\\\react_native2_alpha-yyt86-main\\\\ExercisesView.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport moment from \"moment\";\nimport { Modal, Portal, Title, Provider } from 'react-native-paper';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Icon from \"@expo/vector-icons/FontAwesome5\";\n\nvar ExercisesView = function (_React$Component) {\n  _inherits(ExercisesView, _React$Component);\n\n  var _super = _createSuper(ExercisesView);\n\n  function ExercisesView(props) {\n    var _this;\n\n    _classCallCheck(this, ExercisesView);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      name: \"\",\n      duration: 0.0,\n      date: \"\",\n      calories: 0.0,\n      activityArray: []\n    };\n    return _this;\n  }\n\n  _createClass(ExercisesView, [{\n    key: \"deleteExercise\",\n    value: function deleteExercise(id) {\n      fetch('https://mysqlcs639.cs.wisc.edu/activities/' + id, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-access-token': this.props.accessToken\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        alert(\"Exercise has been deleted!\");\n      }).catch(function (err) {\n        alert(\"Something went wrong! \");\n      });\n      this.getData();\n    }\n  }, {\n    key: \"handleAddActivity\",\n    value: function handleAddActivity() {\n      return React.createElement(\"activityModal\", {\n        visible: this.state.visible,\n        id: this.props.id,\n        accessToken: this.props.accessToken,\n        addmode: true,\n        editmode: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      });\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _this2 = this;\n\n      fetch('https://mysqlcs639.cs.wisc.edu/activities/', {\n        method: 'GET',\n        headers: {\n          'x-access-token': this.props.accessToken\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        _this2.setState({\n          activityArray: res\n        });\n\n        _this2.getExercises();\n      });\n    }\n  }, {\n    key: \"getExercises\",\n    value: function getExercises() {\n      var _this3 = this;\n\n      var cardList = [];\n\n      for (var _i = 0, _Object$entries = Object.entries(this.state.activityArray); _i < _Object$entries.length; _i++) {\n        var _ref = _Object$entries[_i];\n\n        var _ref2 = _slicedToArray(_ref, 2);\n\n        var key = _ref2[0];\n        var value = _ref2[1];\n        var currentDate = moment(value.date).format(\"MMMM D, YYYY\");\n        cardList.push(React.createElement(\"activityCard\", {\n          name: value.name,\n          date: value.date,\n          duration: value.duration,\n          calories: value.calories,\n          id: value.id,\n          accessToken: this.props.accessToken,\n          delete: function _delete(id) {\n            return _this3.deleteExercise(id);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 27\n          }\n        }));\n      }\n\n      return cardList;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(ScrollView, {\n        style: styles.mainContainer,\n        contentContainerStyle: {\n          flexGrow: 11,\n          justifyContent: 'center',\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.space,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }\n      }), React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          flexWrap: 'wrap'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }, React.createElement(Icon, {\n        name: \"walking\",\n        size: 40,\n        color: \"#900\",\n        style: {\n          marginRight: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: styles.bigText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }\n      }, \"Exercises\")), React.createElement(View, {\n        style: styles.spaceSmall,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }\n      }, \"Let's get to work!\"), React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }\n      }, \"Record your exercises below.\"), React.createElement(View, {\n        style: styles.space,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }\n      }), React.createElement(Button, {\n        color: \"#942a21\",\n        style: styles.buttonInline,\n        title: \"ADD ACTIVITY\",\n        onPress: function onPress() {\n          return _this4.handleAddActivity();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        style: styles.space,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }\n      }, this.getExercises()));\n    }\n  }]);\n\n  return ExercisesView;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  scrollView: {\n    height: Dimensions.get('window').height\n  },\n  mainContainer: {\n    flex: 1\n  },\n  scrollViewContainer: {},\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  bigText: {\n    fontSize: 32,\n    fontWeight: \"700\",\n    marginBottom: 5\n  },\n  spaceSmall: {\n    width: 20,\n    height: 10\n  },\n  space: {\n    width: 20,\n    height: 20\n  },\n  buttonInline: {\n    display: \"flex\"\n  },\n  fab: {\n    position: 'absolute',\n    margin: 16,\n    right: 0,\n    bottom: 0\n  }\n});\nexport default ExercisesView;","map":{"version":3,"sources":["F:/course/639-UI/react_native2_alpha-yyt86-main/ExercisesView.js"],"names":["React","moment","Modal","Portal","Title","Provider","Icon","ExercisesView","props","state","name","duration","date","calories","activityArray","id","fetch","method","headers","accessToken","then","res","json","alert","catch","err","getData","visible","setState","getExercises","cardList","Object","entries","key","value","currentDate","format","push","deleteExercise","styles","mainContainer","flexGrow","justifyContent","alignItems","space","flexDirection","flexWrap","marginRight","bigText","spaceSmall","buttonInline","handleAddActivity","Component","StyleSheet","create","scrollView","height","Dimensions","get","flex","scrollViewContainer","container","backgroundColor","fontSize","fontWeight","marginBottom","width","display","fab","position","margin","right","bottom"],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from \"moment\";\nimport { Modal, Portal, Title, Provider } from 'react-native-paper';\nimport {StyleSheet, Text, View, Button, TextInput, ScrollView } from 'react-native';\nimport Icon from 'react-native-vector-icons/FontAwesome5';\n\n// class ExercisesView extends React.Component {\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n            \n//         }\n\n//     }\n\n//     componentDidMount() {\n\n//     }\n\n//     render() {\n//         return <></>\n//     }\n// }\n\n// const styles = StyleSheet.create({\n    \n// });\n\n\nclass ExercisesView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: \"\",\n            duration: 0.0,\n            date: \"\",\n            calories: 0.0,\n            activityArray: [],\n          }\n\n    }\n\n    deleteExercise(id){\n        fetch('https://mysqlcs639.cs.wisc.edu/activities/' + id, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json',\n            'x-access-token': this.props.accessToken\n          },\n        })\n          .then(res => res.json())\n          .then(res => {\n            alert(\"Exercise has been deleted!\");\n\n          })\n          .catch(err => {\n            alert(\"Something went wrong! \");\n          });\n          this.getData();\n    \n    }\n\n    handleAddActivity(){\n        \n        return(\n            <activityModal visible={this.state.visible}  id={this.props.id} accessToken={this.props.accessToken} addmode={true} editmode={false}/>\n        )\n    }\n\n    getData(){\n        fetch('https://mysqlcs639.cs.wisc.edu/activities/', {\n          method: 'GET',\n          headers: { 'x-access-token': this.props.accessToken }\n        })\n          .then(res => res.json())\n          .then(res => {\n              this.setState({activityArray: res});\n            //   for(const [key, value] of Object.entries(res)){\n            //       this.setState({[key]: value})\n            //   }\n           this.getExercises();\n          });\n    }\n\n    getExercises(){\n        let cardList = [];\n        for(const [key, value] of Object.entries(this.state.activityArray)){\n            let currentDate = moment(value.date).format(\"MMMM D, YYYY\");\n            cardList.push(<activityCard name={value.name} date={value.date}\n                           duration={value.duration} calories={value.calories}\n                           id={value.id} accessToken={this.props.accessToken}\n                           delete={(id)=>this.deleteExercise(id)} />)\n\n        }\n        return cardList;\n    }\n\n    componentDidMount() {\n        this.getData();\n    }\n\n    render() {\n        return (\n        <ScrollView style={styles.mainContainer} contentContainerStyle={{ flexGrow: 11, justifyContent: 'center', alignItems: \"center\" }}>\n            <View style={styles.space} />\n            <View style={{ flexDirection: 'row', flexWrap: 'wrap' }}>\n            <Icon name=\"walking\" size={40} color=\"#900\" style={{ marginRight: 20 }} />\n          <Text style={styles.bigText}>Exercises</Text>\n            </View>\n            <View style={styles.spaceSmall}></View>\n        <Text>Let's get to work!</Text>\n        <Text>Record your exercises below.</Text>\n        <View style={styles.space} />\n        <Button color=\"#942a21\" style={styles.buttonInline} title=\"ADD ACTIVITY\" onPress={() => this.handleAddActivity()} />\n        <View style={styles.space} />\n        <View>{this.getExercises()}</View>\n        </ScrollView>)\n    }\n}\n\nconst styles = StyleSheet.create({\n    scrollView: {\n        height: Dimensions.get('window').height\n      },\n      mainContainer: {\n        flex: 1\n      },\n      scrollViewContainer: {},\n      container: {\n        flex: 1,\n        backgroundColor: '#fff',\n      },\n      bigText: {\n        fontSize: 32,\n        fontWeight: \"700\",\n        marginBottom: 5\n      },\n      spaceSmall: {\n        width: 20,\n        height: 10,\n      },\n      space: {\n        width: 20,\n        height: 20,\n      },\n      buttonInline: {\n        display: \"flex\"\n      },\n      fab: {\n        position: 'absolute',\n        margin: 16,\n        right: 0,\n        bottom: 0,\n      },\n});\n\nexport default ExercisesView;"]},"metadata":{},"sourceType":"module"}