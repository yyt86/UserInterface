{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"F:\\\\course\\\\639-UI\\\\react_native2_alpha-yyt86-main\\\\ActivityModal.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport { Modal, Portal, Provider } from 'react-native-paper';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TimePicker from \"./TimePicker\";\n\nvar ActivityModal = function (_React$Component) {\n  _inherits(ActivityModal, _React$Component);\n\n  var _super = _createSuper(ActivityModal);\n\n  function ActivityModal(props) {\n    var _this;\n\n    _classCallCheck(this, ActivityModal);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      name: \"\",\n      duration: 0.0,\n      date: \"\",\n      calories: 0.0,\n      id: '',\n      accessToken: ''\n    };\n    return _this;\n  }\n\n  _createClass(ActivityModal, [{\n    key: \"getStoredData\",\n    value: function getStoredData(key) {\n      var value;\n      return _regeneratorRuntime.async(function getStoredData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(key));\n\n            case 3:\n              value = _context.sent;\n              this.setState(_defineProperty({}, key, value));\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[0, 7]], Promise);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(this.props.accessToken);\n      console.log(this.props.id, \"id\");\n      fetch('https://mysqlcs639.cs.wisc.edu/activities/' + this.props.id, {\n        method: 'GET',\n        headers: {\n          'x-access-token': this.props.accessToken\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        _this2.setState({\n          name: res.name,\n          duration: res.duration,\n          date: res.date,\n          calories: res.calories,\n          modalVisible: false\n        });\n      });\n    }\n  }, {\n    key: \"handleSaveExercise\",\n    value: function handleSaveExercise() {\n      var _this3 = this;\n\n      this.setState({\n        duration: parseFloat(this.state.duration),\n        calories: parseFloat(this.state.calories)\n      }, function () {\n        return fetch('https://mysqlcs639.cs.wisc.edu/activities/' + _this3.props.id, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'x-access-token': _this3.props.accessToken\n          },\n          body: JSON.stringify({\n            name: _this3.state.name,\n            duration: _this3.state.duration,\n            date: _this3.state.date,\n            calories: _this3.state.calories\n          })\n        }).then(function (res) {\n          return res.json();\n        }).then(function (res) {\n          alert(\"Your exercise has been updated!\");\n        }).catch(function (err) {\n          alert(\"Something went wrong! Verify you have filled out the fields correctly.\");\n        });\n      });\n      this.setState({\n        modalVisible: false\n      });\n    }\n  }, {\n    key: \"backToExercise\",\n    value: function backToExercise() {\n      this.setState({\n        modalVisible: false\n      });\n    }\n  }, {\n    key: \"handleAddExercise\",\n    value: function handleAddExercise() {\n      fetch('https://mysqlcs639.cs.wisc.edu/activities/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-access-token': this.props.accessToken\n        },\n        body: JSON.stringify({\n          name: this.state.name,\n          duration: this.state.duration,\n          date: this.state.date,\n          calories: this.state.calories\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        alert(\"One exercise has been added!\");\n      }).catch(function (err) {\n        alert(\"Something went wrong! Verify you have filled out the fields correctly.\");\n      });\n      this.setState({\n        modalVisible: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      console.log(this.props.visible, \"visible\");\n\n      if (this.props.visible) {\n        return React.createElement(Provider, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 5\n          }\n        }, React.createElement(Portal, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 7\n          }\n        }, React.createElement(Modal, {\n          visible: this.props.visible,\n          onDismiss: this.props.hideModal,\n          style: styles.mainContainer,\n          contentContainerStyle: {\n            justifyContent: 'center',\n            alignItems: \"center\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 9\n          }\n        }, React.createElement(View, {\n          style: styles.space,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 9\n          }\n        }), React.createElement(Text, {\n          style: styles.bigText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }\n        }, \"Exercise Details\"), React.createElement(View, {\n          style: styles.space,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 11\n          }\n        }), React.createElement(View, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          style: {\n            textAlignVertical: \"center\",\n            fontWeight: \"700\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 9\n          }\n        }, \"Exercise Name\")), React.createElement(TextInput, {\n          style: styles.input,\n          underlineColorAndroid: \"transparent\",\n          placeholderTextColor: \"#d9bebd\",\n          onChangeText: function onChangeText(name) {\n            return _this4.setState({\n              name: name\n            });\n          },\n          defaultValue: this.state.name,\n          autoCapitalize: \"none\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 9\n          }\n        }), React.createElement(View, {\n          style: styles.spaceSmall,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 9\n          }\n        }), React.createElement(View, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          style: {\n            textAlignVertical: \"center\",\n            fontWeight: \"700\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 11\n          }\n        }, \"Duration (minutes)\")), React.createElement(TextInput, {\n          style: styles.input,\n          underlineColorAndroid: \"transparent\",\n          placeholderTextColor: \"#d9bebd\",\n          onChangeText: function onChangeText(duration) {\n            return _this4.setState({\n              duration: duration\n            });\n          },\n          defaultValue: this.state.duration + \"\",\n          autoCapitalize: \"none\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 9\n          }\n        }), React.createElement(View, {\n          style: styles.spaceSmall,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 9\n          }\n        }), React.createElement(View, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          style: {\n            textAlignVertical: \"center\",\n            fontWeight: \"700\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }\n        }, \"Calories Burnt (cal)\")), React.createElement(TextInput, {\n          style: styles.input,\n          underlineColorAndroid: \"transparent\",\n          placeholderTextColor: \"#d9bebd\",\n          onChangeText: function onChangeText(calories) {\n            return _this4.setState({\n              calories: calories\n            });\n          },\n          defaultValue: this.state.calories + \"\",\n          autoCapitalize: \"none\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 9\n          }\n        }), React.createElement(View, {\n          style: styles.space,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 9\n          }\n        }), React.createElement(View, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          style: {\n            textAlignVertical: \"center\",\n            fontWeight: \"700\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 11\n          }\n        }, \"Exercise Data and Time\")), React.createElement(View, {\n          style: styles.spaceSmall,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 9\n          }\n        }), React.createElement(TimePicker, {\n          date: this.props.date,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 9\n          }\n        }), React.createElement(View, {\n          style: styles.space,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 9\n          }\n        }), React.createElement(Text, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 11\n          }\n        }, \"Looks good! Ready to save your work?\"), React.createElement(View, {\n          style: {\n            flexDirection: 'row',\n            flexWrap: 'wrap'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 11\n          }\n        }, this.props.editmode, \"?\", React.createElement(Button, {\n          color: \"#942a21\",\n          style: styles.buttonInline,\n          title: \"SAVE EXERCISE\",\n          onPress: function onPress() {\n            return _this4.handleSaveExercise();\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 11\n          }\n        }), \": \", React.createElement(Button, {\n          color: \"#942a21\",\n          style: styles.buttonInline,\n          title: \"SAVE EXERCISE\",\n          onPress: function onPress() {\n            return _this4.handleAddExercise();\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }\n        }), React.createElement(View, {\n          style: styles.spaceHorizontal,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 11\n          }\n        }), React.createElement(Button, {\n          color: \"#a1635f\",\n          style: styles.buttonInline,\n          title: \"NEVERMIND\",\n          onPress: function onPress() {\n            return _this4.backToExercise();\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 11\n          }\n        })), React.createElement(View, {\n          style: styles.space,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 9\n          }\n        }))));\n      }\n\n      return React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }\n      });\n    }\n  }]);\n\n  return ActivityModal;\n}(React.Component);\n\n;\nvar styles = StyleSheet.create({\n  scrollView: {\n    height: Dimensions.get('window').height\n  },\n  mainContainer: {\n    backgroundColor: 'white',\n    padding: 20,\n    flex: 1\n  },\n  scrollViewContainer: {},\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  bigText: {\n    fontSize: 32,\n    fontWeight: \"700\",\n    marginBottom: 5\n  },\n  spaceSmall: {\n    width: 20,\n    height: 10\n  },\n  space: {\n    width: 20,\n    height: 20\n  },\n  spaceHorizontal: {\n    display: \"flex\",\n    width: 20\n  },\n  buttonInline: {\n    display: \"flex\"\n  },\n  input: {\n    width: 200,\n    padding: 10,\n    margin: 5,\n    height: 40,\n    borderColor: '#c9392c',\n    borderWidth: 1\n  },\n  inputInline: {\n    flexDirection: \"row\",\n    display: \"flex\",\n    width: 200,\n    padding: 10,\n    margin: 5,\n    height: 40,\n    borderColor: '#c9392c',\n    borderWidth: 1\n  }\n});\nexport default ActivityModal;","map":{"version":3,"sources":["F:/course/639-UI/react_native2_alpha-yyt86-main/ActivityModal.js"],"names":["React","Modal","Portal","Provider","TimePicker","ActivityModal","props","state","name","duration","date","calories","id","accessToken","key","AsyncStorage","getItem","value","setState","console","log","fetch","method","headers","then","res","json","modalVisible","parseFloat","body","JSON","stringify","alert","catch","err","visible","hideModal","styles","mainContainer","justifyContent","alignItems","space","bigText","textAlignVertical","fontWeight","input","spaceSmall","flexDirection","flexWrap","editmode","buttonInline","handleSaveExercise","handleAddExercise","spaceHorizontal","backToExercise","Component","StyleSheet","create","scrollView","height","Dimensions","get","backgroundColor","padding","flex","scrollViewContainer","container","fontSize","marginBottom","width","display","margin","borderColor","borderWidth","inputInline"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { Modal, Portal, Provider } from 'react-native-paper';\r\n// import timePicker from \"./timePicker\";\r\nimport { StyleSheet, Text, View, Button, TextInput, Dimensions } from 'react-native';\r\nimport TimePicker from './TimePicker';\r\n\r\nclass ActivityModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          name: \"\",\r\n          duration: 0.0,\r\n          date: \"\",\r\n          calories: 0.0,\r\n          id: '',\r\n          accessToken: '',\r\n        }\r\n      }\r\n\r\n      async getStoredData(key){\r\n        try{\r\n            let value = await AsyncStorage.getItem(key);\r\n            this.setState({[key]: value});\r\n         } catch (error) {\r\n            console.log(error);\r\n         }\r\n    }\r\n\r\n      componentDidMount() {\r\n        console.log(this.props.accessToken)\r\n        console.log(this.props.id, \"id\")\r\n        fetch('https://mysqlcs639.cs.wisc.edu/activities/' + this.props.id, {\r\n          method: 'GET',\r\n          headers: { 'x-access-token': this.props.accessToken }\r\n        })\r\n          .then(res => res.json())\r\n          .then(res => {\r\n            this.setState({\r\n              name: res.name,\r\n              duration: res.duration,\r\n              date: res.date,\r\n              calories: res.calories,\r\n              modalVisible: false\r\n            });\r\n          });\r\n      }\r\n\r\n      handleSaveExercise() {\r\n        this.setState({\r\n          duration: parseFloat(this.state.duration),\r\n          calories: parseFloat(this.state.calories),\r\n          \r\n        }, () => fetch('https://mysqlcs639.cs.wisc.edu/activities/' + this.props.id, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'x-access-token': this.props.accessToken\r\n          },\r\n          body: JSON.stringify({\r\n            name: this.state.name,\r\n              duration: this.state.duration,\r\n              date: this.state.date,\r\n              calories: this.state.calories,\r\n          })\r\n        })\r\n          .then(res => res.json())\r\n          .then(res => {\r\n            alert(\"Your exercise has been updated!\");\r\n\r\n          })\r\n          .catch(err => {\r\n            alert(\"Something went wrong! Verify you have filled out the fields correctly.\");\r\n          }));\r\n\r\n          this.setState({ modalVisible: false });\r\n    \r\n      }\r\n\r\n      backToExercise(){\r\n        this.setState({ modalVisible: false });\r\n      }\r\n\r\n\r\n     handleAddExercise() {\r\n        fetch('https://mysqlcs639.cs.wisc.edu/activities/', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'x-access-token': this.props.accessToken\r\n            },\r\n            body: JSON.stringify({\r\n              name: this.state.name,\r\n                duration: this.state.duration,\r\n                date: this.state.date,\r\n                calories: this.state.calories,\r\n            })\r\n          })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n              alert(\"One exercise has been added!\");\r\n  \r\n            })\r\n            .catch(err => {\r\n              alert(\"Something went wrong! Verify you have filled out the fields correctly.\");\r\n            });\r\n  \r\n            this.setState({ modalVisible: false });\r\n      \r\n        }\r\n    \r\n\r\n      render(){\r\n        console.log(this.props.visible, \"visible\");\r\n        if(this.props.visible){\r\n        return (\r\n    <Provider>\r\n      <Portal>\r\n        <Modal  visible={this.props.visible} onDismiss={this.props.hideModal} style={styles.mainContainer} contentContainerStyle={{justifyContent: 'center', alignItems: \"center\" }}>\r\n        <View style={styles.space} />\r\n          <Text style={styles.bigText}>Exercise Details</Text>\r\n          <View style={styles.space} />\r\n        <View>\r\n        <Text style={{ textAlignVertical: \"center\", fontWeight: \"700\" }}>Exercise Name</Text>\r\n        </View>\r\n        <TextInput style={styles.input}\r\n          underlineColorAndroid=\"transparent\"\r\n        //   placeholder=\"Badger\"\r\n          placeholderTextColor=\"#d9bebd\"\r\n          onChangeText={(name) => this.setState({ name: name })}\r\n          defaultValue={this.state.name}\r\n          autoCapitalize=\"none\" />\r\n        <View style={styles.spaceSmall}></View>\r\n\r\n        <View>\r\n          <Text style={{ textAlignVertical: \"center\", fontWeight: \"700\" }}>Duration (minutes)</Text>\r\n        </View>\r\n        <TextInput style={styles.input}\r\n          underlineColorAndroid=\"transparent\"\r\n        //   placeholder=\"2200\"\r\n          placeholderTextColor=\"#d9bebd\"\r\n          onChangeText={(duration) => this.setState({ duration: duration })}\r\n          defaultValue={this.state.duration + \"\"}\r\n          autoCapitalize=\"none\" />\r\n        <View style={styles.spaceSmall}></View>\r\n        <View>\r\n          <Text style={{ textAlignVertical: \"center\", fontWeight: \"700\" }}>Calories Burnt (cal)</Text>\r\n        </View>\r\n        <TextInput style={styles.input}\r\n          underlineColorAndroid=\"transparent\"\r\n        //   placeholder=\"52\"\r\n          placeholderTextColor=\"#d9bebd\"\r\n          onChangeText={(calories) => this.setState({ calories: calories })}\r\n          defaultValue={this.state.calories + \"\"}\r\n          autoCapitalize=\"none\" />\r\n     \r\n        <View style={styles.space} />\r\n        <View>\r\n          <Text style={{ textAlignVertical: \"center\", fontWeight: \"700\" }}>Exercise Data and Time</Text>    \r\n        </View>\r\n        <View style={styles.spaceSmall}></View>\r\n        <TimePicker date={this.props.date}/>\r\n\r\n        <View style={styles.space} />\r\n          <Text>Looks good! Ready to save your work?</Text>\r\n          <View style={{ flexDirection: 'row', flexWrap: 'wrap' }}>\r\n          {this.props.editmode}?\r\n          <Button color=\"#942a21\" style={styles.buttonInline} title=\"SAVE EXERCISE\"  onPress={() => this.handleSaveExercise()} />\r\n          : <Button color=\"#942a21\" style={styles.buttonInline} title=\"SAVE EXERCISE\"  onPress={() => this.handleAddExercise()} />\r\n          <View style={styles.spaceHorizontal} />\r\n          <Button color=\"#a1635f\" style={styles.buttonInline} title=\"NEVERMIND\" onPress={() => this.backToExercise()} />\r\n        </View>\r\n        <View style={styles.space} />  \r\n\r\n        </Modal>\r\n      </Portal>\r\n    </Provider>\r\n  );}\r\n  return (<View></View>)\r\n  }\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    scrollView: {\r\n      height: Dimensions.get('window').height\r\n    },\r\n    mainContainer: {\r\n      backgroundColor: 'white', \r\n      padding: 20,\r\n      flex: 1\r\n    },\r\n    scrollViewContainer: {},\r\n    container: {\r\n      flex: 1,\r\n      backgroundColor: '#fff',\r\n    },\r\n    bigText: {\r\n      fontSize: 32,\r\n      fontWeight: \"700\",\r\n      marginBottom: 5\r\n    },\r\n    spaceSmall: {\r\n      width: 20,\r\n      height: 10,\r\n    },\r\n    space: {\r\n      width: 20,\r\n      height: 20,\r\n    },\r\n    spaceHorizontal: {\r\n      display: \"flex\",\r\n      width: 20\r\n    },\r\n    buttonInline: {\r\n      display: \"flex\"\r\n    },\r\n    input: {\r\n      width: 200,\r\n      padding: 10,\r\n      margin: 5,\r\n      height: 40,\r\n      borderColor: '#c9392c',\r\n      borderWidth: 1\r\n    },\r\n    inputInline: {\r\n      flexDirection: \"row\",\r\n      display: \"flex\",\r\n      width: 200,\r\n      padding: 10,\r\n      margin: 5,\r\n      height: 40,\r\n      borderColor: '#c9392c',\r\n      borderWidth: 1\r\n    }\r\n  });\r\n  \r\n  export default ActivityModal;"]},"metadata":{},"sourceType":"module"}